{% extends 'base.html.twig' %}

{% block body %}
    <section>
        <h1>Mise à jour de la recette</h1>

        {{ form_start(edit_form) }}
            {{ form_row(edit_form.name) }}
            {{ form_row(edit_form.preparationTime) }}
            {{ form_row(edit_form.cookTime) }}
            {{ form_row(edit_form.serving) }}
            {{ form_row(edit_form.difficultyLevel) }}
            {{ form_row(edit_form.cost) }}
            {{ form_row(edit_form.description) }}
            {{ form_row(edit_form.bestSeller) }}

            <div class="row" id="ingredient-fields-list"
            data-prototype="{{ form_widget(edit_form.ingredients.vars.prototype)|e }}"
            data-widget-tags="{{ '<div class="col-md-4"></div>'|e }}">
            {% for ingredientField in edit_form.ingredients %}
                <div class="col-md-4 my-3">
                {{ form_errors(ingredientField) }}
            {{ form_widget(ingredientField) }}
            </div>
            {% endfor %}
                </div>

            <button type="button" class="add-another-collection-widget btn btn-info" data-list="#ingredient-fields-list">Ajouter un ingredient</button>


            <input type="submit" value="Modifier" class="btn btn-success"/>
        {{ form_end(edit_form) }}

        <ul>
            <li>
                <a href="{{ path('recipe_index') }}"><i class="fas fa-list"></i> Retour à la liste</a>
            </li>
            <li>
                {{ form_start(delete_form) }}
                    <button type="submit" class="btn btn-danger"><i class="far fa-trash-alt"></i></button>
                {{ form_end(delete_form) }}
            </li>
        </ul>
    </section>
{% endblock %}

{% block javascripts %}
    //add new ingredients
    <script src="{{ asset('assets/js/add-collection-widget.js') }}"></script>
{%  endblock %}
